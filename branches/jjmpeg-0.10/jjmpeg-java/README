
WORK IN PROGRESS  WORK IN PROGRESS  WORK IN PROGRESS


REAMDE-java
-----------

This is the java/swing jjmpeg library.

This builds the native code for all supported platforms using
cross compilation on GNU/linux operating systems only.

This includes swing-specific java classes.

README
------

jjmpeg is a simple wrapper for ffmpeg.  Much of the binding
is generated by a big ugly perl script, with some hand-rolled JNI
code where it is easier.

jjdvb is a partial interface to Linux's DVB interface implemented
in a similar manner.

STATUS
------

This is still work in progress, although there is enough functionality
to implement a media player and some recording ability.

As i'm now using a cross compilation environment, all libraries should
be up-to-date as of each build.  This includes the windows 64-bit build.

What API is there closely follows libavformat and libavcodec.

jjdvb is in very early stages of development and is untested.  Most of
the binding is just a copy of the C header #defines and enums since
the interface is through ioctl's.

In addition to the native GNU/Linux support, a window-64-bit build
is possible using a mingw-w64 cross compiler.

USING
-----

The library native/<platform>/[lib]jjmpeg.[so|dll] must be in the
LD_LIBRARY_PATH to use jjmpeg.

Similarly native/<platform>/libjjdvb.so for using the classes
in jjdvb.

The classes are mostly undocumented but follow the corresponding
api's closely.

It will dlopen libavformat, libavcodec, and libswscale at run-time, so
these must be available on the system - usually in a package such as
ffmpeg-libs.

To test, try running:
 java -classpath dist/jjmpeg.jar jjmpeg.VideoWriterExample

This should create a 1 second video in /tmp/test.mpeg of a flying
'jjmpeg!'.

BUILDING
--------

A simple makefile is present in the native directly which builds the
library and generates the binding classes.  It's crap, but it
WORKSFORME.  More information - particularly required for expanding
the binding - is included in the native/README file.

Run ant in the top-level directory (where this README resides) to
compile the java classes.

If the supplied native library does not work with your installed
ffmpeg-libs, then run make in the native/ directory.  You may
need to edit the Makefile to point to the correct location of
your JDK.

For extending the binding, see native/README.  Currently the generated
Java file AVAbstract.java must be copied by hand to the src directory
to overwrite the one currently there.

LINKS
-----

jjmpeg is hosted on google code at the following url:
 http://code.google.com/p/jjmpeg

A log of development activity and thoughts:
 http://a-hackers-craic.blogspot.com/search/label/jjmpeg

LICENSE
-------

jjmpeg is free software: you can redistribute it and/or modify it
under the terms of the GNU General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

jjmpeg is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
License for more details.

See the file COPYING for terms of use.
